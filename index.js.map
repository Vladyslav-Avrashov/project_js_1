{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/projects.js","../src/js/reviews/render-functions.js","../src/js/reviews/api.js","../src/js/reviews/reviews.js"],"sourcesContent":["// function creating the projects section template\nexport const projectsTemplate = projects => {\n  return projects\n    .map(project => {\n      const { title, url1, url2, technologies } = project;\n      return `\n      <li class=\"project-card\">\n        <picture>\n          <source\n            srcset=\"${url1} 1x, ${url2} 2x\"\n          />\n          <img\n            class=\"my-project-picture\"\n            src=\"${url2} 2x\"\n            alt=\"${title}\"\n            loading=\"lazy\"\n          />\n        </picture>\n        <p class=\"technologies-list\">${technologies}</p>\n        <h3 class=\"project-description\">${title}</h3>\n        <div class=\"link-container\">\n          <a class=\"visit-link\" href=\"#\">\n            visit\n            <svg class=\"visit-arrow\" width=\"14\" height=\"14\">\n              <use href=\"./img/icons.svg#visit-arrow\"></use>\n            </svg>\n          </a>\n        </div>\n      </li>\n    `;\n    })\n    .join('');\n};\n","import projects from '../json/projects.json';\nimport { projectsTemplate } from './render-functions';\n// searching for the elements\nconst refs = {\n  projectsList: document.querySelector('.js-project-cards-list'),\n  loadMoreBtn: document.querySelector('.js-load-more-btn'),\n};\n\nlet startIndex = 0;\nlet endIndex = 3;\n\n// loading the initial state(3 first projects)\nconst loadInitialProjects = () => {\n  const projectsCopy = projects.slice(startIndex, endIndex);\n  const projectTemplate = projectsTemplate(projectsCopy);\n  refs.projectsList.innerHTML = projectTemplate;\n};\nloadInitialProjects();\n\n// event listener function for the button\n\nconst onLoadMoreBtn = () => {\n  startIndex += 3;\n  endIndex += 3;\n  const projectsCopy = projects.slice(startIndex, endIndex);\n  const projectTemplate = projectsTemplate(projectsCopy);\n  refs.projectsList.insertAdjacentHTML('beforeend', projectTemplate);\n\n  setTimeout(() => {\n    const height = refs.projectsList\n      .querySelector('.project-card')\n      .getBoundingClientRect().height;\n\n    window.scrollBy({\n      top: height * 10,\n      behavior: 'smooth',\n    });\n  }, 0);\n  if (endIndex >= projects.length) {\n    refs.loadMoreBtn.classList.add('visually-hidden');\n    refs.loadMoreBtn.removeEventListener('click', onLoadMoreBtn);\n    return;\n  }\n};\n// attaching the event listener to the loadMore button\nrefs.loadMoreBtn.addEventListener('click', onLoadMoreBtn);\n","import { refs } from './reviews';\n\nconst createMarkup = ({ author, avatar_url, review }) => {\n  return `\n  <li class=\"swiper-slide\">\n    <p class=\"swiper-description\" tabindex=\"-1\">${review}</p>\n    <div class=\"swiper-user-info\">\n      <img\n        class=\"swiper-user-img\"\n        src=\"${avatar_url}\"\n        alt=\"${author}\"\n        width=\"40\"\n        height=\"40\"\n      />\n      <h3 class=\"swiper-user-name\">${author}</h3>\n    </div>\n  </li>`;\n};\n\nexport const renderMarkup = data => {\n  const markup = data.map(review => createMarkup(review)).join('');\n  refs.list.insertAdjacentHTML('beforeend', markup);\n};\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://portfolio-js.b.goit.study/api/reviews/';\n\nexport const getData = async () => {\n  try {\n    const response = await axios.get();\n    return response.data;\n  } catch (error) {\n    console.log('Something went wrong with receiving feedback');\n    throw error;\n  }\n};\n","import { renderMarkup } from './render-functions';\nimport { Keyboard, Navigation } from 'swiper/modules';\nimport { getData } from './api';\nimport iziToast from 'izitoast';\nimport Swiper from 'swiper';\n\nexport const refs = {\n  list: document.querySelector('.swiper-wrapper'),\n  buttons: document.querySelector('.swiper-buttons'),\n  errorMsg: document.querySelector('.review-not-found'),\n};\n\nconst initSwiper = () => {\n  const swiper = new Swiper('.swiper', {\n    modules: [Navigation, Keyboard],\n    spaceBetween: 32,\n    navigation: {\n      nextEl: '.swiper-button-next',\n      prevEl: '.swiper-button-prev',\n    },\n    keyboard: {\n      enabled: true,\n      onlyInViewport: false,\n    },\n    breakpoints: {\n      1280: {\n        slidesPerView: 2,\n      },\n      0: {\n        slidesPerView: 1,\n      },\n    },\n    allowSlideNext: true,\n  });\n};\n\nconst swiperLogic = async () => {\n  try {\n    const data = await getData();\n\n    if (!data.length) {\n      refs.buttons.classList.add('is-hidden');\n      refs.errorMsg.classList.remove('is-hidden');\n      return;\n    }\n\n    renderMarkup(data);\n    initSwiper();\n  } catch (error) {\n    iziToast.error({\n      position: 'topRight',\n      progressBarColor: '#B51B1B',\n      message: 'Something went wrong while loading review',\n      messageColor: '#FAFAFB',\n      backgroundColor: '#EF4040',\n    });\n    refs.buttons.classList.add('is-hidden');\n    refs.errorMsg.classList.remove('is-hidden');\n  }\n};\nswiperLogic();\n"],"names":["projectsTemplate","projects","project","title","url1","url2","technologies","refs","startIndex","endIndex","loadInitialProjects","projectsCopy","projectTemplate","onLoadMoreBtn","height","createMarkup","author","avatar_url","review","renderMarkup","data","markup","axios","getData","error","initSwiper","Swiper","Navigation","Keyboard","swiperLogic","iziToast"],"mappings":"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"}